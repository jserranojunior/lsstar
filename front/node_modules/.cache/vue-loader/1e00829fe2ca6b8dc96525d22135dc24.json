{"remainingRequest":"/opt/lampp/htdocs/lsstar/front/node_modules/vue-loader/lib/index.js??vue-loader-options!/opt/lampp/htdocs/lsstar/front/src/modules/empreendimentos/pages/NewOrEditEmpreendimento.vue?vue&type=script&lang=js&","dependencies":[{"path":"/opt/lampp/htdocs/lsstar/front/src/modules/empreendimentos/pages/NewOrEditEmpreendimento.vue","mtime":1583501447488},{"path":"/opt/lampp/htdocs/lsstar/front/node_modules/cache-loader/dist/cjs.js","mtime":1578848123391},{"path":"/opt/lampp/htdocs/lsstar/front/node_modules/babel-loader/lib/index.js","mtime":1576704838626},{"path":"/opt/lampp/htdocs/lsstar/front/node_modules/cache-loader/dist/cjs.js","mtime":1578848123391},{"path":"/opt/lampp/htdocs/lsstar/front/node_modules/vue-loader/lib/index.js","mtime":1578848126235}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7CiAgICBhcGkKfSBmcm9tICdAL2h0dHAvc2VydmljZXMuanMnCmltcG9ydCB7CiAgICBtYXBBY3Rpb25zCn0gZnJvbSAndnVleCcKaW1wb3J0IE1haW4gZnJvbSAnQC92aWV3cy9sYXlvdXRzL01haW4nCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICJOZXdPckVkaXRFbXByZWVuZGltZW50byIsCiAgICBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGlucHV0czoge30sCiAgICAgICAgICAgIGNsaWVudGVzOiB7fSwKICAgICAgICB9CiAgICB9LAogICAgY29tcG9uZW50czogewogICAgICAgIE1haW4sCiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIC4uLm1hcEFjdGlvbnMoWwogICAgICAgICAgICAnYWRkRW1wcmVlbmRpbWVudG8nLAogICAgICAgIF0pLAogICAgICAgIGNhZGFzdHJhckVtcHJlZW5kaW1lbnRvKCkgewogICAgICAgICAgICB0aGlzLmFkZEVtcHJlZW5kaW1lbnRvKHRoaXMuaW5wdXRzKQogICAgICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLmlucHV0cykKICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ2NhZGFzdHJhZG8nKQogICAgICAgICAgICB0aGlzLmlucHV0cyA9ICIiCiAgICAgICAgfSwKICAgICAgICBhdHVhbGl6YXJFbXByZWVuZGltZW50bygpIHsKCiAgICAgICAgICAgIGxldCB1cmwgPSAnL2Nhc2EvJyArIHRoaXMuJHJvdXRlLnBhcmFtcy5pZAogICAgICAgICAgICBhcGkucHV0KHVybCwgdGhpcy5pbnB1dHMpCiAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coImF0dWFsaXphZG8iKQogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEpCiAgICAgICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAnZW1wcmVlbmRpbWVudG9zJywKICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXBvZW1wcmVlbmRpbWVudG86ICdUb2RvcycKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coIk7Do28gZm9pIGF0dWFsaXphZG8iKQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgfSwKICAgICAgICBnZXRFZGl0RW1wcmVlbmRpbWVudG8ocGFyYW1ldHJvKSB7CiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHBhcmFtZXRybykKICAgICAgICAgICAgbGV0IHVybCA9ICcvY2FzYS8nICsgcGFyYW1ldHJvCiAgICAgICAgICAgIGFwaS5nZXQodXJsKQogICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgICAgICAgICAgIHRoaXMuaW5wdXRzID0gcmVzcG9uc2UuZGF0YS5kYXRhLmNhc2FbMF0KICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJuYcO1IGNhZGFzdHJhZG8iKQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgfSwKICAgICAgICBnZXRDbGllbnRlcygpIHsKICAgICAgICAgICAgbGV0IHVybCA9ICcvY2xpZW50ZT90aXBvY2xpZW50ZT10b2RvcycKICAgICAgICAgICAgYXBpLmdldCh1cmwpCiAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGllbnRlcyA9IHJlc3BvbnNlLmRhdGEuZGF0YQogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coIm5hw7UgY2FkYXN0cmFkbyIpCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICB9LAogICAgd2F0Y2g6IHsKICAgICAgICAkcm91dGUoKSB7CiAgICAgICAgICAgIGlmICh0aGlzLiRyb3V0ZS5wYXJhbXMuaWQpIHsKICAgICAgICAgICAgICAgIHRoaXMuZ2V0RWRpdEVtcHJlZW5kaW1lbnRvKHRoaXMuJHJvdXRlLnBhcmFtcy5pZCkKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHRoaXMuaW5wdXRzID0ge30KICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0sCiAgICBtb3VudGVkKCkgewogICAgICAgIGlmICh0aGlzLiRyb3V0ZS5wYXJhbXMuaWQpIHsKICAgICAgICAgICAgdGhpcy5nZXRFZGl0RW1wcmVlbmRpbWVudG8odGhpcy4kcm91dGUucGFyYW1zLmlkKQogICAgICAgIH0KCiAgICAgICAgdGhpcy5nZXRDbGllbnRlcygpCiAgICB9Cn0K"},{"version":3,"sources":["NewOrEditEmpreendimento.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"NewOrEditEmpreendimento.vue","sourceRoot":"src/modules/empreendimentos/pages","sourcesContent":["<template>\n<div>\n    <Main>\n        <template v-slot:mainpage>\n            <div>\n                <div class=\"row\">\n                    <div class=\"col-12\">\n                        <div class=\"card\">\n                            <div class=\"card-body text-center\">\n                                <h3 v-if=\"$route.params.id\">EDITANDO EMPREENDIMENTO</h3>\n                                <h3 v-else>NOVO EMPREENDIMENTO</h3>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                <div class=\"row justify-content-center\">\n                    <div class=\"col-5\">\n                        <div class=\"form-group\">\n                            <input type=\"text\" placeholder=\"Empreendimento\" class=\"form-control\" v-model=\"inputs.nome\">\n                        </div>\n                    </div>\n                    <div class=\"col-5\">\n                        <div class=\"form-group\">\n                            <input type=\"text\" placeholder=\"Número\" class=\"form-control\" v-model=\"inputs.numero\">\n                        </div>\n                    </div>\n                </div>\n\n                <div class=\"row justify-content-center\">\n                    <div class=\"col-5\">\n                        <div class=\"form-group\">\n                            <input type=\"text\" placeholder=\"Matricula\" class=\"form-control\" v-model=\"inputs.numero_matricula\">\n                        </div>\n                    </div>\n                    <div class=\"col-5\">\n                        <div class=\"form-group\">\n                            <input type=\"text\" placeholder=\"Número Matricula\" class=\"form-control\" v-model=\"inputs.data_matricula\">\n                        </div>\n                    </div>\n                </div>\n\n                <div class=\"row justify-content-center\">\n                    <div class=\"col-5\">\n                        <div class=\"form-group\">\n                            <input type=\"text\" placeholder=\"CEP\" class=\"form-control\" v-model=\"inputs.cep\">\n                        </div>\n                    </div>\n                    <div class=\"col-5\">\n                        <div class=\"form-group\">\n                            <input type=\"text\" placeholder=\"Logradouro\" class=\"form-control\" v-model=\"inputs.logradouro\">\n                        </div>\n                    </div>\n                </div>\n\n                <div class=\"row justify-content-center\">\n                    <div class=\"col-5\">\n                        <div class=\"form-group\">\n                            <input type=\"text\" placeholder=\"Bairro\" class=\"form-control\" v-model=\"inputs.bairro\">\n                        </div>\n                    </div>\n                    <div class=\"col-5\">\n                        <div class=\"form-group\">\n\n                            <select class=\"form-control\" v-model=\"inputs.status\">\n                                <option>Construção</option>\n                                <option>Á venda</option>\n                                <option>Vendida</option>\n                            </select>\n                        </div>\n                    </div>\n                </div>\n\n                <div class=\"row justify-content-center\">\n                    <div class=\"col-10\">\n                        <div class=\"form-group\">\n                            <select class=\"form-control\" v-model=\"inputs.cliente_id\">\n                                <option value=\"\"></option>\n                                <option v-for=\"cliente in clientes\" :value=\"cliente.id\" :key=\"cliente.id\">\n                                    {{cliente.nome}}\n                                </option>\n                            </select>\n                        </div>\n                    </div>\n                </div>\n\n                <!-- Proprietário -->\n\n                <div class=\"row justify-content-center\">\n                    <div class=\"col-5\">\n                        <div class=\"form-group\">\n                            <input type=\"text\" placeholder=\"Instalação de Luz\" class=\"form-control\" v-model=\"inputs.numero_instalacao_luz\">\n                        </div>\n                    </div>\n                    <div class=\"col-5\">\n                        <div class=\"form-group\">\n                            <input type=\"text\" placeholder=\"Fornecedor de luz\" class=\"form-control\" v-model=\"inputs.fornecedor_luz\">\n                        </div>\n                    </div>\n                </div>\n\n                <div class=\"row justify-content-center\">\n                    <div class=\"col-5\">\n                        <div class=\"form-group\">\n                            <input type=\"text\" placeholder=\"RGI\" class=\"form-control\" v-model=\"inputs.rgi\">\n                        </div>\n                    </div>\n                    <div class=\"col-5\">\n                        <div class=\"form-group\">\n                            <input type=\"text\" placeholder=\"Número IPTU\" class=\"form-control\" v-model=\"inputs.numero_iptu\">\n                        </div>\n                    </div>\n                </div>\n\n                <div class=\"row justify-content-center\">\n                    <div class=\"col-5\">\n                        <div class=\"form-group\">\n                            <input type=\"text\" placeholder=\"Número Habitese\" class=\"form-control\" v-model=\"inputs.numero_habitese\">\n                        </div>\n                    </div>\n                    <div class=\"col-5\">\n                        <div class=\"form-group\">\n                            <input type=\"text\" placeholder=\"Data Habitese\" class=\"form-control\" v-model=\"inputs.data_habitese\">\n                        </div>\n                    </div>\n                </div>\n\n                <div class=\"row justify-content-center\">\n                    <div class=\"col-5\">\n                        <div class=\"form-group\">\n                            <input type=\"text\" placeholder=\"Alvará\" class=\"form-control\" v-model=\"inputs.alvara\">\n                        </div>\n                    </div>\n                    <div class=\"col-5\">\n                        <div class=\"form-group\">\n                            <input type=\"text\" placeholder=\"Data Alvará\" class=\"form-control\" v-model=\"inputs.data_alvara\">\n                        </div>\n                    </div>\n                </div>\n\n                <div class=\"row justify-content-center\" v-if=\"inputs.nome && inputs.numero && inputs.logradouro\">\n                    <div class=\"col-10\" v-if=\"$route.params.id\">\n                        <div class=\"btn btn-primary\" @click=\"atualizarEmpreendimento()\">ATUALIZAR</div>\n                    </div>\n                    <div class=\"col-10\" v-else>\n                        <div class=\"btn btn-primary\" @click=\"cadastrarEmpreendimento()\">CADASTRAR</div>\n                    </div>\n                </div>\n            </div>\n        </template>\n    </Main>\n</div>\n</template>\n\n<script>\nimport {\n    api\n} from '@/http/services.js'\nimport {\n    mapActions\n} from 'vuex'\nimport Main from '@/views/layouts/Main'\nexport default {\n    name: \"NewOrEditEmpreendimento\",\n    data() {\n        return {\n            inputs: {},\n            clientes: {},\n        }\n    },\n    components: {\n        Main,\n    },\n    methods: {\n        ...mapActions([\n            'addEmpreendimento',\n        ]),\n        cadastrarEmpreendimento() {\n            this.addEmpreendimento(this.inputs)\n            // console.log(this.inputs)\n            // console.log('cadastrado')\n            this.inputs = \"\"\n        },\n        atualizarEmpreendimento() {\n\n            let url = '/casa/' + this.$route.params.id\n            api.put(url, this.inputs)\n                .then(response => {\n                    console.log(\"atualizado\")\n                    console.log(response.data)\n                    this.$router.push({\n                        name: 'empreendimentos',\n                        params: {\n                            tipoempreendimento: 'Todos'\n                        }\n                    });\n                })\n                .catch(function (error) {\n                    console.log(error);\n                    console.log(\"Não foi atualizado\")\n                });\n        },\n        getEditEmpreendimento(parametro) {\n            // console.log(parametro)\n            let url = '/casa/' + parametro\n            api.get(url)\n                .then(response => {\n                    this.inputs = response.data.data.casa[0]\n                })\n                .catch(function (error) {\n                    console.log(error);\n                    console.log(\"naõ cadastrado\")\n                });\n        },\n        getClientes() {\n            let url = '/cliente?tipocliente=todos'\n            api.get(url)\n                .then(response => {\n                    this.clientes = response.data.data\n                })\n                .catch(function (error) {\n                    console.log(error);\n                    console.log(\"naõ cadastrado\")\n                });\n        }\n    },\n    watch: {\n        $route() {\n            if (this.$route.params.id) {\n                this.getEditEmpreendimento(this.$route.params.id)\n            } else {\n                this.inputs = {}\n            }\n        }\n    },\n    mounted() {\n        if (this.$route.params.id) {\n            this.getEditEmpreendimento(this.$route.params.id)\n        }\n\n        this.getClientes()\n    }\n}\n</script>\n"]}]}