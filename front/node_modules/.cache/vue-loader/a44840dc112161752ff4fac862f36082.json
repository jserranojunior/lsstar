{"remainingRequest":"/opt/lampp/htdocs/lsstar/front/node_modules/vue-loader/lib/index.js??vue-loader-options!/opt/lampp/htdocs/lsstar/front/src/modules/financeiro/pages/EmitirPagamento.vue?vue&type=script&lang=js&","dependencies":[{"path":"/opt/lampp/htdocs/lsstar/front/src/modules/financeiro/pages/EmitirPagamento.vue","mtime":1583702473939},{"path":"/opt/lampp/htdocs/lsstar/front/node_modules/cache-loader/dist/cjs.js","mtime":1578848123391},{"path":"/opt/lampp/htdocs/lsstar/front/node_modules/babel-loader/lib/index.js","mtime":1576704838626},{"path":"/opt/lampp/htdocs/lsstar/front/node_modules/cache-loader/dist/cjs.js","mtime":1578848123391},{"path":"/opt/lampp/htdocs/lsstar/front/node_modules/vue-loader/lib/index.js","mtime":1578848126235}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICdheGlvcycKZXhwb3J0IGRlZmF1bHQgewogICAgbmFtZTogIkVtaXRpclBhZ2FtZW50byIsCiAgICBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGlucHV0czoge30sCiAgICAgICAgICAgIGluZGV4OiAiMTUiLAoKICAgICAgICB9OwogICAgfSwKICAgIGJlZm9yZU1vdW50KCkgewoKICAgIH0sCiAgICBwcm9wczogewogICAgICAgIGlkOiB7CiAgICAgICAgICAgIHJlcXVpcmU6IGZhbHNlCiAgICAgICAgfSwKICAgICAgICBkYXRhQXR1YWw6IHsKICAgICAgICAgICAgcmVxdWlyZTogZmFsc2UKICAgICAgICB9LAogICAgICAgIHZhbG9yOiB7CiAgICAgICAgICAgIC8vIGRlZmF1bHQ6IDAsICAgICAgCiAgICAgICAgfSwKICAgICAgICBzaG93TW9kYWxFbWl0aXI6IHsKICAgICAgICAgICAgcmVxdWlyZTogdHJ1ZQogICAgICAgIH0sCiAgICAgICAgZmF2b3JlY2lkbzogewogICAgICAgICAgICByZXF1aXJlOiBmYWxzZQogICAgICAgIH0sCiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIHBlZ2FyRGF0YUF0dWFsKCkgewogICAgICAgICAgICB2YXIgZGF0YSA9IG5ldyBEYXRlKCk7CiAgICAgICAgICAgIHZhciBkaWEgPSBkYXRhLmdldERhdGUoKTsgLy8gMS0zMQoKICAgICAgICAgICAgdmFyIG1lcyA9IGRhdGEuZ2V0TW9udGgoKTsgLy8gMC0xMSAoemVybz1qYW5laXJvKQoKICAgICAgICAgICAgdmFyIGFubzQgPSBkYXRhLmdldEZ1bGxZZWFyKCk7CiAgICAgICAgICAgIHZhciBob3JhID0gZGF0YS5nZXRIb3VycygpOwogICAgICAgICAgICB2YXIgbWluID0gZGF0YS5nZXRNaW51dGVzKCk7CiAgICAgICAgICAgIHZhciBzZWcgPSBkYXRhLmdldFNlY29uZHMoKTsKCiAgICAgICAgICAgIHZhciBzdHJfZGF0YSA9ICIiICsgZGlhICsgKG1lcyArIDEpICsgYW5vNCArIGhvcmEgKyBtaW4gKyBzZWc7CgogICAgICAgICAgICB0aGlzLmlucHV0cy5udW1lcm9fY2hlcXVlID0gc3RyX2RhdGEKICAgICAgICB9LAogICAgICAgIGNsb3NlTW9kYWwoKSB7CiAgICAgICAgICAgIHRoaXMuJGVtaXQoImV2ZW50LWZlY2hhci1tb2RhbC1lbWl0aXIiKTsKICAgICAgICB9LAogICAgICAgIGNoZWNrRm9ybTogZnVuY3Rpb24gKCkgewogICAgICAgICAgICB0aGlzLmZhemVyUGFnYW1lbnRvKCk7CiAgICAgICAgICAgIHRoaXMuJGVtaXQoImV2ZW50LWZlY2hhci1tb2RhbC1lbWl0aXIiKTsKICAgICAgICB9LAogICAgICAgIGZhemVyUGFnYW1lbnRvKCkgewogICAgICAgICAgICB2YXIgb2JqVGhpcyA9IHRoaXM7CiAgICAgICAgICAgIHZhciB1cmwgPSBwcm9jZXNzLmVudi5WVUVfQVBQX0xBUkFWRUxfQVBJX1VSTCArICIvZW1pdGlycGFnYW1lbnRvIjsKICAgICAgICAgICAgYXhpb3MKICAgICAgICAgICAgICAgIC5wb3N0KHVybCwgdGhpcy5pbnB1dHMpCiAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICAgICAgICAgICAgb2JqVGhpcy4kZW1pdCgiZXZlbnQtZW1pdGlyLXBhZ2FtZW50byIpOwogICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgLmNhdGNoKGUgPT4gewogICAgICAgICAgICAgICAgICAgIG9ialRoaXMuZXJyb3JzLnB1c2goZSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICB9LAogICAgd2F0Y2g6IHsKICAgICAgICAvLyB2YWxvcigpewogICAgICAgIC8vICAgICBpZiAoIXRoaXMudmFsb3IpIHJldHVybiAiMCwwMCI7CiAgICAgICAgLy8gICAgICAgICBsZXQgdmFsID0gKHRoaXMudmFsb3IgLyAxKS50b0ZpeGVkKDIpLnJlcGxhY2UoIi4iLCAiLCIpOwogICAgICAgIC8vICAgICAgICAgdGhpcy52YWxvciA9ICB2YWwudG9TdHJpbmcoKS5yZXBsYWNlKC9cQig/PShcZHszfSkrKD8hXGQpKS9nLCAiLiIpOwogICAgICAgIC8vIH0KICAgICAgICBzaG93TW9kYWxFbWl0aXIoKSB7CiAgICAgICAgICAgIHRoaXMucGVnYXJEYXRhQXR1YWwoKQogICAgICAgICAgICB0aGlzLmlucHV0cy5pZCA9IHRoaXMuaWQKICAgICAgICAgICAgdGhpcy5pbnB1dHMuZGF0YSA9IHRoaXMuZGF0YUF0dWFsICsgIi0wMSI7CiAgICAgICAgICAgIHRoaXMuaW5wdXRzLnZhbG9yID0gdGhpcy4kcHJvcHMudmFsb3IKICAgICAgICAgICAgdGhpcy5pbnB1dHMudGlwb19wYWdhbWVudG8gPSAnVHJhbnNmZXLDqm5jaWEnCgogICAgICAgIH0KICAgIH0sCgp9Owo="},{"version":3,"sources":["EmitirPagamento.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6EA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA","file":"EmitirPagamento.vue","sourceRoot":"src/modules/financeiro/pages","sourcesContent":["<template>\n<div>\n    <div v-if=\"showModalEmitir\">\n        <transition name=\"modal\">\n            <div class=\"modal-mask\">\n                <div class=\"modal-wrapper\">\n                    <div class=\"modal-dialog\" role=\"document\">\n                        <div class=\"modal-content\">\n                            <div class=\"modal-header text-center\">\n                                <h5 class=\"modal-title text-center\" id=\"exampleModalLabel\">Emitir Pagamento</h5>\n                                <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                                    <span aria-hidden=\"true\" @click=\"closeModal()\">&times;</span>\n                                </button>\n                            </div>\n                            <div class=\"modal-body\">\n                                <div class=\"box\">\n                                    <div class=\"box-body\">\n                                        <div class=\"row\">\n                                            <div class=\"col\">\n                                                <label for=\"tipopagamento\" class=\"control-label\">Tipo Pagamento</label>\n                                                <select class=\"form-control\" v-model=\"inputs.tipo_pagamento\">\n                                                    <option selected value=\"Transferência\">Transferência</option>\n                                                    <option value=\"Cartão\">Cartão</option>\n                                                    <option value=\"Cheque\">Cheque</option>\n                                                </select>\n                                            </div>\n                                        </div>\n                                        <div class=\"row\">\n                                            <div class=\"col\">\n                                                <label for=\"data\" class=\"control-label\">Data</label>\n                                                <input type=\"date\" v-model=\"inputs.data\" class=\"form-control\" name=\"data\" id=\"data\">\n                                            </div>\n                                        </div>\n                                        <div class=\"row\">\n                                            <div class=\"col\">\n                                                <label for=\"numerocheque\" class=\"control-label\">N°</label>\n                                                <input type=\"text\" v-model=\"inputs.numero_cheque\" class=\"form-control\" name=\"numerocheque\" id=\"numerocheque\">\n                                            </div>\n                                        </div>\n                                        <div class=\"row row-space\">\n                                            <div class=\"col\">\n                                                Favorecido:\n                                            </div>\n                                            <div class=\"col text-primary\">\n                                                {{favorecido}}\n                                            </div>\n\n                                        </div>\n                                        <div class=\"row row-space\">\n                                            <div class=\"col\">\n                                                Valor:\n                                            </div>\n                                            <div class=\"col text-primary\">\n                                                {{inputs.valor}}\n                                            </div>\n                                        </div>\n\n                                    </div>\n                                </div>\n\n                            </div>\n                      \n                    \n                    <div class=\"modal-footer\">\n                        <button type=\"button\" class=\"btn btn-secondary\" @click=\"closeModal()\">Fechar</button>\n                        <button type=\"button\" class=\"btn btn-primary\" @click=\"checkForm()\">Emitir</button>\n                    </div>\n                </div>\n            </div>\n              </div>\n</div>\n        </transition>\n    </div>\n</div>\n</template>\n\n<script>\nimport axios from 'axios'\nexport default {\n    name: \"EmitirPagamento\",\n    data() {\n        return {\n            inputs: {},\n            index: \"15\",\n\n        };\n    },\n    beforeMount() {\n\n    },\n    props: {\n        id: {\n            require: false\n        },\n        dataAtual: {\n            require: false\n        },\n        valor: {\n            // default: 0,      \n        },\n        showModalEmitir: {\n            require: true\n        },\n        favorecido: {\n            require: false\n        },\n    },\n    methods: {\n        pegarDataAtual() {\n            var data = new Date();\n            var dia = data.getDate(); // 1-31\n\n            var mes = data.getMonth(); // 0-11 (zero=janeiro)\n\n            var ano4 = data.getFullYear();\n            var hora = data.getHours();\n            var min = data.getMinutes();\n            var seg = data.getSeconds();\n\n            var str_data = \"\" + dia + (mes + 1) + ano4 + hora + min + seg;\n\n            this.inputs.numero_cheque = str_data\n        },\n        closeModal() {\n            this.$emit(\"event-fechar-modal-emitir\");\n        },\n        checkForm: function () {\n            this.fazerPagamento();\n            this.$emit(\"event-fechar-modal-emitir\");\n        },\n        fazerPagamento() {\n            var objThis = this;\n            var url = process.env.VUE_APP_LARAVEL_API_URL + \"/emitirpagamento\";\n            axios\n                .post(url, this.inputs)\n                .then(response => {\n                    console.log(response.data);\n                    objThis.$emit(\"event-emitir-pagamento\");\n                   \n                })\n                .catch(e => {\n                    objThis.errors.push(e);\n                });\n        }\n    },\n    watch: {\n        // valor(){\n        //     if (!this.valor) return \"0,00\";\n        //         let val = (this.valor / 1).toFixed(2).replace(\".\", \",\");\n        //         this.valor =  val.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\");\n        // }\n        showModalEmitir() {\n            this.pegarDataAtual()\n            this.inputs.id = this.id\n            this.inputs.data = this.dataAtual + \"-01\";\n            this.inputs.valor = this.$props.valor\n            this.inputs.tipo_pagamento = 'Transferência'\n\n        }\n    },\n\n};\n</script>\n\n<style>\n.modal-mask {\n    position: fixed;\n    z-index: 9998;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background-color: rgba(0, 0, 0, 0.5);\n    display: table;\n    transition: opacity 0.3s ease;\n}\n\n.modal-wrapper {\n    display: table-cell;\n    vertical-align: middle;\n}\n</style>\n"]}]}